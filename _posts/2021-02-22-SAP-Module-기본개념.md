---
title: "SAP Module 기본개념"
categories: 
  - MODULE
tags:
  - mm module
  - sd module
  - pp module
  - sap
toc: true
---

### 1. Core 5개 모듈에 대한 흐름을 그리시오.

> Module을 배우면 기준정보, 트랜잭션, 분석 순서로 이어진다는 점 잊지말자!
> 기준정보는 하나 생성하면 계속하여 사용할 수 있는 고정적인 값이다.

![image](https://user-images.githubusercontent.com/58674365/108784822-896ab680-75b3-11eb-9dbc-10df57b4f8a3.png)<br>

![image](https://user-images.githubusercontent.com/58674365/108784839-925b8800-75b3-11eb-9a80-bb56c195f06d.png)

<br>

![image](https://user-images.githubusercontent.com/58674365/108784860-9c7d8680-75b3-11eb-9cce-e0dcd6f21344.png)

<br>
일반적으로 모든 회사는 SD 판매 부분을 가지고 있으며(수익을 내야하기 때문), 생산해서 파는지 구매해서 파는지 또는 서비스를 파는지의 차이를 가진다.<br>계획은 SD-PP-MM 순서로 세워지고 그 행위(구매실적)는 반대로 이루어진다.

**MRP(Material Requirement Planning, 자재소요계획)**
판매 계획이 세워진 후, SD-PP 계획은 거의 1:1로 이루어진다. 그 후, MRP를 통해 MM에 Planned order를 전달한다. 즉, MRP란 제품 투입에 대해 필요한 수량, 일정을 결정해준다. PR 만들어주는 것 까지만 MRP의 영역이다.

회계 부분은 어느 곳에서나 이어지며, 회계 부분이 붙음으로써 ERP 개념이 생성된다. (Auto posting)

<br><br>

### 2. SAP 조직구조에 대해 그리시오.
![image](https://user-images.githubusercontent.com/58674365/108785202-46f5a980-75b4-11eb-9533-a5fae17df4bf.png)

<BR>구매그룹은 어디에도 속하지 않고 어디에서든 고를 수 있다.<br>
구매조직은 plant 상위 혹은 하위에 속할 수 있는 가변적이다.<br>
마찬가지로, 영업조직도 plant 상위 혹은 하위에 속할 수 있는 가변적이다. plant 밑으로 들어가는 경우는 공정에 따라 다른 영업/구매조직을 가지는 경우이다. 그러나 plant 상위에 있는 것이 일반적이다. 

<br><br>

### 3. 트렌잭션이란 무엇인지 아는 대로 기술하시오.
데이터 베이스의 상태를 변환시키는 하나의 논리적 기능을 수행하기 위한 작업의 단위 또는 일련의 연산을 의미한다. **개별 업무 단위 하나로 생각하자.** 

<br><br>

### 4. MM 기준정보에 대해 아는대로 기술하시오.

자재마스터, 구매조직, 공급업체는 필수며 기타는 선택사항에 속한다. <br>
MM의 트랜잭션은 구매요청-구매오더-입고-송장처리로 이어진다.

- 자재마스터 (MM03)<br>
  어떤 자재를 구매하느냐?
- 공급업체 Vendor (MK03) <br>
  어디서 구매하느냐?
- 정보레코드 Info record (ME13) <br>
  구매 단가, 얼마에 구매하느냐?
- 소스리스트 Source list<br>주 공급업체 표시, 어떻게 구매하느냐?<br>
  공급업체 2개 이상 경우 주 공급업체 표시
- Quota Arrangement <br>
  공급업체 2개 이상 경우의 업체 공급 비율

<br><br>

### 5. PP 기준정보에 대해 아는대로 기술하시오.

PP의 트랜잭션은 생산계획(Dependent Requirement)-계획오더(Planned Independent Requirement)-생산오더(Production Order)-생산확정으로 이어진다.

- 자재마스터<br>
  무엇을 생산하느냐?
- 작업장 Work center (CR03)<br>
  어디서 누가 생산하느냐?
- BOM (CS03)<br>
  어떤 재료를 이용해서 생산하느냐?
- 공정 Routing (CA03)<br>
  어떤 방식으로 만드느냐?
- 생산버전 (C223)

<br><br>

### 6. 자재마스터 view에는 어떤 것이 있는지 나열하시오.
기본데이터, 분류(구매), 영업, 국제무역, 판매, MRP, 고급계획, 예측, 작업일정계획, 일반 플랜트, 창고관리, 품질관리, 회계, 원가계산, WM실행, VM 포장, 세그먼트 평가 데이터 
<br><br>

### 7. 아래 용어에 대해 기술하시오.

- **자재유형**
  부자재는 설비 돌릴 때의 윤활유와 같다. 즉, 제품 만들고 나서 그 제품에 들어가지 않는 것을 의미한다. 
  그러나 회사마다 규정하기에 따라 다르고 보통 벌크 단위로 들어가는 자재를 부자재로 정의한다.
  - 제품 FERT
  - 상품 HAWA
  - 반제품 HALB
  - 원자재 ROH
  - 서비스 DIEV/SERV 
  - 소모품, 스페어 ... etc
  



- **번호범위 No.Range**
  save 해서 만들어지는 모든  Object(문서, 자재 등)는 number range를 가진다. 이를 통칭하는 것이다. <br>
  일반적으로 external, internal 하나를 정해서 구축한다. 이는 중첩되지 않게 설정한다. 
  - External
    자재 만들 때, 자재코드를 직접 넣는 경우를 의미한다. <Br>
    이 값은 숫자 및 문자 모두 가능하고 순차적 채번이 아닌 내가 넣는 값에 따라 부여된다.
  - Internal
    자재 만들 때, 자재코드를 넣지 않아도 생성되며 internal로 자동적으로 번호가 부여된다. 이를 internal number range라 한다.<br>
    이 값은 숫자로만 생성되고 from ~ to 설정에 따라 자동으로 부여된다.




- **기본단위**
  자재 마스터의 기본 데이터에는 기본 단위가 있다. (= 재고 관리 단위)<br>
  그리고 판매, 생산, 구매 각 단위가 별도로 관리될 수 있다. 단위 변화에 따라 환산 단위를 넣어준다. 
  - 기본단위 Base UoM(Unit of Measure)
  
  - 재고 관리 단위 SKU(Stock Keeping Unit)
  - 구매 단위
  - 생산 단위
  - 판매 단위
  




- **조달유형**
  조달유형은 자재 유형과 연관되며, 플랜트 별로 들어간다. <br>
  자재 마스터의 MRP View 2에서 설정한다.<br>
  내부, 외부 조달 둘 다 가능한 경우 X 유형으로 하지만 그 경우 회계 부분에 대해 복잡해진다.
  - E: 내부 생산 (FERT, HALB)
  
  - F: 외부 구매 (ROH, HAWA, HALB)
  - X: 내부, 외부 조달 (FERT, HALB)
  



- **평가클래스 Valueation Class**
  Auto posting의 연결고리: 물류와 회계를 연결해주는 고리이다.<br>
  연결해주는 시점은 재고가 움직일 때다.<br>
  예를 들어 재고 입출고에 대한 수량, 금액 정보를 가지는 제품 계정(FI)이 있는데, 생산 입고 혹 출고시 어떤 계정으로 갈지 지정해주는 것이다. 



- **표준단가**
  특정 기간동안 특정 자재의 표준 금액을 정해두고 사용하는 것이다.<br>
  실제 금액은 편차가 존재하나 price difference로 가지고 있다가 보통 월별로 수불부(Material Ledger)를 계산한다. 

  예를 들어, 월 중에 제품을 생산할 때 소요된 실제 원가를 알지 못하는 경우 입고 단가를 산정할 수 없기 때문에 우선적으로 표준 단가를 적용하여 수불부와 재고자산 증감을 처리한 후 추후 실제 원가를 계산한 후 이를 반영한 재고 수불부과 재고자산에 대한 차액을 다시 분개한다. 



- **(순간) 이동평균가 = 기간별 단가**
  재고 이동 순간 시점에서의 가격으로 반영되는 가격이다. 

<br><br>


### 8. MM 물류 흐름 트랜잭션을 순서대로 나열하시오. (마스터 데이터부터 구매마감까지)

![image](https://user-images.githubusercontent.com/58674365/108785355-95a34380-75b4-11eb-9e74-c5136b119c30.png)

MRP를 사용할 때에는 PR을 거치지며, PR 없이 PO 생성이 가능하다.<br>
단, PR을 무조건 타는 경우가 있으며 이는 소모품에 대한 요청이 해당된다.

<br><br>

### 9. PP 물류 흐름 트랜잭션을 순서대로 나열하시오. (마스터데이터부터 생산마감까지)

![image](https://user-images.githubusercontent.com/58674365/108785364-9b008e00-75b4-11eb-824b-755b76aabb58.png)

Material을 앞에 썼지만, 자재 없이도 BOM 생성이 가능하다. Text로 작성하면 되기 때문이다. <br>
MM 프로세스와 마찬가지로 MRP 사용하는 경우에만 계획오더를 거치게 된다. 

<br><br>

### 10. MRP에 대해 아는 대로 기술하시오.

Material Requirements Planning, 자재소요계획<br>
MRP는 제품 투입에 대해 필요한 수량, 일정을 결정해준다. PR 및 계획오더를 만들어주는 것 까지만 MRP의 영역이다.

<br><br>

### 11. 이동유형에 대해 아는 대로 기술하시오.

입고는 보통 1, 출고는 2, 이전전기는 3/4, 기타는 5, 판매는 6, 재고실사는 7로 시작된다. 

- **TP (Transfer posting, 이전전기)**
  From ~ To를 회사 내부에서 정보를 찾을 때, 정보가 모두 표시된다. <br>
  같은 plant 내에서 이동 가능하고 다른 plant 내에서도 이동 가능하다.

  - Stock transfer: 재고의 위치가 바뀜
  - Transfer posting: 재고의 상태가 바뀜

- **GI (Goods Issue, 출고)**
  From ~ To를 회사 내부에서 정보를 찾을 때, From 정보는 있지만 To의 정보는 표시되지 않는다.

- **GR (Goods Receipt, 입고)**

  From ~ To를 회사 내부에서 정보를 찾을 때, From 정보는 없지만 To의 정보는 표시되지 않는다.  <br>(보통 Vendor지만 From으로 보지는 않는다.) <br>
  없다가 생기는 모든 이동을 의미한다. 

  - 구매입고 101
  - 생산입고 101, 131,,,
  - 기타입고 501, 511,,,

<br><br>


### 12. 조정계정(Reconsilaton Account/Recon.Acc)에 대해 아는 대로 기술하시오.

물류보다는 회계 쪽의 개념이다. <br>
물건을 받고 돈을 줘야 하는데, 얼마를 언제 줘야할지에 대한 계정을 의미한다. <br>
보통 돈을 먼저 지불하지 않기 때문에 있는 개념이다.

Account Payable (AP) 외상매입금이라고 한다.  <br>
이 AP는 입고 GR 이후, IV 단계에서 결정된다. <br>
반대로 물건을 판매하는 경우에는 이를 외상매출금, AR이라고 한다. 

조정계정은 Vendor에서 확인할 수 있다.

<br><br>

### 13. MM Module - GR 기준 IV

구매오더의 GR 기준 IV 설정에 따라 차이가 발생한다.

- PO Item의 GR 기준 IV = 'X' 설정
  - 해당 구매오더 항목은 입고 문서 전기 이전에 물류 송장을 전기할 수 없음
  - GR 입고 처리 후에만 IV 처리 가능 meaning GR 입고 수량 이상의 IV 처리 불가
  - 입고 문서번호 별로 관리 (EKBE-LFGJA, LFBNR, EKBE-LFPOS)
- PO Item의 GR 기준 IV = 'X' 미설정
  - 입고전기와 물류송장 전기에 대한 순서 제약이 없음
  - 대금 지급이 입고보다 선행하는 프로세스에 대해 설정함: 주로 수입
  - 구매오더 문서번호 별로 관리 (EKBE-EBELN, EKBE-EBELP)



GR 기준 IV 설정은 다음 두 곳에서 가능하다.  <br>
시스템적으로 더 정확한, **우선시되는 정보는 Info record의 설정**임을 잊지말자!

- Vendor의 구매 데이터
  해당 Vendor로 발주시 자동으로 GR 기준 IV 설정이 체크된다.
- Info record의 구매조직 데이터
  정보레코드는 Vendor, 자재로 만들기 때문에 저절로 찍힌다. 그런데 만약 Vendor에는 체크가 되어 있고 Info record에는 강제로 지워버린 경우, PO를 만들면 후자가 우선으로 반영되어 GR 기준 IV 체크가 안된 상태로 생성된다. 

<br><br>

### 14. MM - Automatic PO

Info record, source list, 공급 업체가 정해진 자재에 대해 반복적인 주문이 필요할때 자동으로 구매하는 것을 의미한다. T-ME59N에서 PR을 가지고 Automatic PO 생성이 가능하다. 

해당 정보는 다음에서 설정 가능하다. <br>
PR에서 Auto PO 설정이 가능한 것이 아닌, PR에서 입력하는 Vendor, Material 마스터의 아래 두 곳에 모두 Automatic PO가 설정되어 있는 경우에만 PR이 자동 PO를 생성한다. 

- Vendor > 구매 > 구매데이터
- 자재 마스터 > 구매 View

<br><br>

### 15. PP - Back Flush

제품 조합에 사용되는 부품량(BOM)을 생산 조립품이나 생산량의 자재 명세로분터 계산하고, 재고에서 삭감하는 것을 의미한다. 

보통 생산을 하면 step1. 투입될 것을 가져와서 투입시키고 , step2. 완성된 제품을 출고시킨다.  <br>
시스템 적으로 두 번 처리하는 것을 단축시키기 위해, 생산 제품에 대해 실적 처리를 하면 해당 BOM을 자동 출고처리하기 위해 사용한다.

구성품목 중 백플러쉬 체크 속성이 있으며, 설정(항상 사용 or 설정에 따라 사용)하여 사용할 수 있다. 체크되어 있다면, 해당 공정 과정에서 백플러쉬를 사용하겠다를 의미한다. 백플러쉬에 대한 설정은 다음 세 곳에서 가능하다 . 

- 자재 마스터 > MRP2 > 조달 > 백플러시 
- 워크 센터 조회 > 기본데이터 > 벡플러시 
- 공정 조회 품목 개요 BOM > 백플러시

장점은 편하다는 것이다.  <br>
단점은 BOM 기준으로 백플러쉬가 작용하기 때문에, BOM이 정확하지 않으면 실투입 자재와 시스템 상의 투입 자재의 수량이 달라 재고 조사시 차이가 날 수 있다는 것이다. 

만약 자재 재고가 없는 경우 T-COGI에서 확인 가능하고, 후행처리가 가능하다. <br>
추가 투입을 통해 출고할 수 있고, 아얘 내역을 지워 출고를 하지 않을 수 도 있다. <br>
T-COGI를 통해서도 재고가 맞지 않는 경우 재고실사를 해줘야 한다.